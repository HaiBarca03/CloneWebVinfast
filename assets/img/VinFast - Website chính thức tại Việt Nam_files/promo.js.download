jQuery(document).ready(function(){if(jQuery('.widget-toc').length){jQuery('.widget-toc .toc-title, .widget-toc a').on('click',function(event){if(jQuery('.widget-toc.open').length){jQuery('.widget-toc').removeClass('open');jQuery('.widget-toc > ol').slideUp(300);}else{jQuery('.widget-toc').addClass('open');jQuery('.widget-toc > ol').slideDown(300);}});jQuery(window).scroll(function(){if(window.pageYOffset>jQuery('.widget-toc').parent().offset().top){if(!jQuery('.widget-toc').hasClass('sticky')){jQuery('.widget-toc > ol').css('display','none');jQuery('.widget-toc').removeClass('open');}
jQuery('.widget-toc').addClass('sticky');}else{jQuery('.widget-toc').removeClass("sticky");}});}
var urlParams=new URLSearchParams(window.location.search);if(urlParams.has('error-verify-email')){var email_verify=urlParams.get('email-verify');jQuery('#error-verify-email span').html(email_verify);jQuery('#error-verify-email').addClass('show');jQuery('.bg-verify-email').addClass('show');}
var pie_1='<div class="wrapper-circle" data-anim="base wrapper">';pie_1+='<div class="circle" data-anim="base left"></div>';pie_1+='<div class="circle" data-anim="base right"></div>';pie_1+='</div>';pie_1+='<label class="dot"></span>';if(sessionStorage.getItem("lang_code")!='close'&&jQuery('div#select-region[data-region="show"]').length){jQuery('#select-region').addClass('show');}
jQuery('.close-md-lang, div#select-region span').click(function(e){e.preventDefault();jQuery(this).parents('#select-region').removeClass('show');sessionStorage.setItem("lang_code","close");});jQuery(".b-lazy").lazyload({effect:"fadeIn"});jQuery(".mega_menu_header.mega-main-menu > li").hover(function(){jQuery('img.img-mega-menu').each(function(index,element){var img=jQuery(this).attr('data-src');jQuery(this).attr('src',img);});});jQuery('.mega_menu .nav-tabs .nav-link').click(function(e){e.preventDefault();jQuery(this).addClass('active-tab');jQuery(this).siblings().removeClass('active-tab');});jQuery('#yctv-sf select[name="type"]').on('change',function(){jQuery('.model_type').val(this.value);});jQuery("#yctv-sf").submit(function(event){var city=jQuery('#yctv-sf select[name="cities"]').val();var lang=jQuery('html').attr('lang');var require='';var format_phone=''
if(lang=='vi'){require='Trường này bắt buộc!';format_phone='Số điện thoại không hợp lệ!';}else{require='This field is require!';format_phone='Invalid phone number!'}
jQuery('.city').val(city);if(jQuery('form#yctv-sf input[name="last_name"]').val()==''){jQuery('form#yctv-sf .form-name .msg-error').text(require);return false;}else{jQuery('form#yctv-sf .form-name .msg-error').text('');}
if(jQuery('form#yctv-sf input[name="phone"]').val()==''){jQuery('form#yctv-sf .form-phone .msg-error').text(require);return false;}else{jQuery('form#yctv-sf .form-phone .msg-error').text('');}
if(jQuery('#yctv-sf select[name="cities"]').val()==''){jQuery('form#yctv-sf .form-city .msg-error').text(require);return false;}else{jQuery('form#yctv-sf .form-city .msg-error').text('');}
if(jQuery('#yctv-sf select[name="type"]:not(.d-none)').val()==''){jQuery('form#yctv-sf .form-type .msg-error').text(require);return false;}else{jQuery('form#yctv-sf .form-type .msg-error').text('');}
if(jQuery('.path-tram-sac').length){if($('form#yctv-sf input[name="hiddenRecaptcha_1"]').val()==''){$('form#yctv-sf .form-captcha .msg-error').text(require);return false;}else{$('form#yctv-sf .form-captcha .msg-error').text('')}}else{if(grecaptcha.getResponse()==""){jQuery('form#yctv-sf .form-captcha .msg-error').text(require);return false;}else{jQuery('form#yctv-sf .form-captcha .msg-error').text('');}}
localStorage.setItem("fullname-yctv",jQuery('form#yctv-sf input[name="last_name"]').val());});let searchParams=new URLSearchParams(window.location.search)
if(searchParams.has('confirm-advisory')){let fullname=localStorage.getItem("fullname-yctv");jQuery('#confirm-yctv span.full_name').html(fullname);jQuery('.confirm-yctv').addClass('show');jQuery('.close-confirm-yctv').addClass('show');}
jQuery('.confirm-yctv .close-pu, .close-confirm-yctv').click(function(e){e.preventDefault();jQuery('.confirm-yctv').removeClass('show');jQuery('.close-confirm-yctv').removeClass('show');});jQuery('.mega-main-menu .menu_car .pop_tu_van a').click(function(e){e.preventDefault();jQuery('#yeu-cau-tu-van').addClass('show');jQuery('.close-form-yctv').addClass('show');jQuery('#yeu-cau-tu-van select.scooter').addClass('d-none');jQuery('#yeu-cau-tu-van select.car').removeClass('d-none');});jQuery('.mega-main-menu .menu_scooter .pop_tu_van a').click(function(e){e.preventDefault();jQuery('#yeu-cau-tu-van').addClass('show');jQuery('.close-form-yctv').addClass('show');jQuery('#yeu-cau-tu-van select.scooter').removeClass('d-none');jQuery('#yeu-cau-tu-van select.car').addClass('d-none');});jQuery('.close-form-yctv, #yeu-cau-tu-van .close-form').click(function(e){e.preventDefault();jQuery('#yeu-cau-tu-van').removeClass('show');jQuery('.close-form-yctv').removeClass('show');});jQuery.when(jQuery('footer .menu-item--expanded').append('<div class="caret-down"></div>')).done(function(){jQuery('footer .caret-down').click(function(e){e.preventDefault();jQuery(this).siblings('.menu').slideToggle();jQuery(this).toggleClass('active');});});var top_banner_home=new Swiper('#top_banner_home',{effect:'fade',lazy:{loadPrevNext:true,},pagination:{el:'.swiper-pagination',clickable:true,},});var quote_slide=new Swiper('#quote_slide',{slidesPerView:1,spaceBetween:20,loop:true,centeredSlides:true,autoplay:{delay:5000,disableOnInteraction:false},pagination:{el:'#quote_slide .swiper-pagination',renderBullet:function(index,className){return '<div class="pie-countdown-swiper pie-countdown '+className+'"></div>';},clickable:true,},on:{init:function(e){setTimeout(function(){jQuery('#quote_slide .swiper-pagination .swiper-pagination-bullet:not(.swiper-pagination-bullet-active)').append('<span></span>');jQuery('#quote_slide .swiper-pagination .swiper-pagination-bullet-active').append(pie_1);},100);},},breakpoints:{768:{slidesPerView:2,}}});quote_slide.on('slideChange',function(e){jQuery('#quote_slide .swiper-pagination .swiper-pagination-bullet').empty();jQuery('#quote_slide .swiper-pagination .swiper-pagination-bullet:not(.swiper-pagination-bullet-active)').append('<span></span>');jQuery('#quote_slide .swiper-pagination .swiper-pagination-bullet-active').append(pie_1);});var car_slide=new Swiper('#home_slide_o_to',{slidesPerView:1,lazy:true,spaceBetween:0,autoplay:{delay:5000,disableOnInteraction:false},pagination:{el:'#home_slide_o_to .swiper-pagination',renderBullet:function(index,className){return '<div class="pie-countdown-swiper pie-countdown '+className+'"></div>';},clickable:true,},on:{init:function(e){setTimeout(function(){jQuery('#home_slide_o_to .swiper-pagination .swiper-pagination-bullet:not(.swiper-pagination-bullet-active)').append('<span></span>');jQuery('#home_slide_o_to .swiper-pagination .swiper-pagination-bullet-active').append(pie_1);},100);},},breakpoints:{640:{slidesPerView:2,},1024:{slidesPerView:3,},1366:{slidesPerView:4,}}});car_slide.on('slideChange',function(e){jQuery('#home_slide_o_to .swiper-pagination .swiper-pagination-bullet').empty();jQuery('#home_slide_o_to .swiper-pagination .swiper-pagination-bullet:not(.swiper-pagination-bullet-active)').append('<span></span>');jQuery('#home_slide_o_to .swiper-pagination .swiper-pagination-bullet-active').append(pie_1);});var xe_may_slide=new Swiper('#home_slide_xe_may',{slidesPerView:1,lazy:true,spaceBetween:0,autoplay:{delay:5000,disableOnInteraction:false},pagination:{el:'#home_slide_xe_may .swiper-pagination',renderBullet:function(index,className){return '<div class="pie-countdown-swiper pie-countdown '+className+'"></div>';},clickable:true,},on:{init:function(e){setTimeout(function(){jQuery('#home_slide_xe_may .swiper-pagination .swiper-pagination-bullet:not(.swiper-pagination-bullet-active)').append('<span></span>');jQuery('#home_slide_xe_may .swiper-pagination .swiper-pagination-bullet-active').append(pie_1);},100);},},breakpoints:{640:{slidesPerView:2,},1024:{slidesPerView:3,},1366:{slidesPerView:4,}}});xe_may_slide.on('slideChange',function(e){jQuery('#home_slide_xe_may .swiper-pagination .swiper-pagination-bullet').empty();jQuery('#home_slide_xe_may .swiper-pagination .swiper-pagination-bullet:not(.swiper-pagination-bullet-active)').append('<span></span>');jQuery('#home_slide_xe_may .swiper-pagination .swiper-pagination-bullet-active').append(pie_1);});jQuery('.modal-video .close-video').click(function(e){jQuery(this).parents('.modal-video').removeClass('show');jQuery(this).parents('.modal-video').find('iframe')[0].contentWindow.postMessage('{"event":"command","func":"'+'stopVideo'+'","args":""}','*');});jQuery('.video_noi_bat').unbind().click(function(e){var data_vid=jQuery(this).attr('data-video');jQuery('.modal-video[data-video="'+data_vid+'"]').addClass('show');jQuery('.modal-video[data-video="'+data_vid+'"] iframe')[0].contentWindow.postMessage('{"event":"command","func":"'+'playVideo'+'","args":""}','*');});jQuery('a').each(function(index,element){jQuery(this).attr('onclick','gtag_custom_link(this);');});jQuery('input[type="submit"]').each(function(index,element){jQuery(this).attr('onclick','gtag_custom_submit(this);');});jQuery('button#submit').each(function(index,element){jQuery(this).attr('onclick','gtag_custom_submit(this);');});jQuery('#block-mainnavigation li[data-class="menu-shop"]').each(function(index,element){jQuery(this).find('a').attr('rel','dofollow');});jQuery('.vin-slide-home .view-content').owlCarousel({loop:true,margin:10,nav:false,autoplay:false,autoplayTimeout:5000,autoplayHoverPause:true,dotsData:true,responsive:{0:{items:1},600:{items:1},1000:{items:1}}});jQuery('.slide-box-news .view-content').owlCarousel({loop:false,margin:10,nav:true,autoplay:false,autoplayTimeout:5000,autoplayHoverPause:true,dotsData:false,navText:['<i class="fal fa-chevron-left"></i>','<i class="fal fa-chevron-right"></i>'],responsive:{0:{items:1.1,nav:false,},600:{items:2,nav:true,},1000:{items:3,nav:true,}}});jQuery('.vin-slide-home-2,.vin-slide-home-3,.vin-slide-home-6').owlCarousel({loop:true,margin:10,nav:false,autoplay:false,autoplayTimeout:5000,autoplayHoverPause:true,dotsData:true,items:1,});jQuery('.vin-slide-home-4').owlCarousel({loop:false,margin:10,nav:false,autoplay:false,autoplayTimeout:5000,autoplayHoverPause:true,dotsData:true,items:1,});jQuery('.data-color li').click(function(){var dt_src=jQuery(this).data('src');jQuery(this).closest('.owl-item').find('.vin-slide-home-3-data-img').attr('src',dt_src);jQuery(this).closest('.owl-item').find('.data-color li').removeClass('active');jQuery(this).addClass('active');});promo_slide_load();promo_slide_load_content();jQuery('.slide-box-news-r .view-content').owlCarousel({loop:false,margin:10,nav:false,autoplay:false,autoplayTimeout:5000,autoplayHoverPause:true,dotsData:false,items:1.1,center:false,});jQuery('.slide-box-news-r-mb .view-content').owlCarousel({loop:false,margin:10,nav:false,autoplay:false,autoplayTimeout:5000,autoplayHoverPause:true,dotsData:false,items:1.1,center:false,});jQuery('.btn-red-call').click(function(){jQuery(this).parent('div').addClass('d-none');jQuery('.promo-regis').removeClass('d-none');});jQuery('.news-catelogy .news-highlight .img').click(function(){location.href=jQuery(this).find('a').attr('href');});jQuery(window).scroll(function(){if(jQuery(this).scrollTop()>0){jQuery('#header').addClass("header-fix");}else{jQuery('#header').removeClass("header-fix");}});var check_login='';if(jQuery('body.user-logged-in').length){check_login=1;}else{check_login=0;}
if(localStorage.getItem("check_login")==undefined||localStorage.getItem("check_login")=="1"&&check_login==0){localStorage.setItem("check_login","0");}
if(check_login==1&&localStorage.getItem("check_login")=="0"){jQuery.when(promo_set_uid_analytics()).done(function(){localStorage.setItem("check_login","1");});}})
function promo_set_uid_analytics(){var uid=jQuery('body').attr('data-crm');if(uid!='0'){gtag('set',{'user_id':uid});}}
function promo_slide_load(){var des_slide=jQuery('.vin-slide-loader');var pie='<div class="pie-countdown">';pie+='  <svg width="32" viewBox="0 0 220 220" xmlns="http://www.w3.org/2000/svg">';pie+='        <g transform="translate(110,110)">';pie+='          <circle r="100" class="e-c-base"></circle>';pie+='          <g transform="rotate(-90)">';pie+='            <circle r="100" class="e-c-progress"></circle>';pie+='            <g id="e-pointer" class="d-nond">';pie+='              <circle cx="100" cy="0" r="8" class="e-c-pointer"></circle>';pie+='            </g>';pie+='          </g>';pie+='       </g>';pie+='  </svg>';pie+='<label class="dot"></span>';pie+='</div>';des_slide.on('initialized.owl.carousel',function(e){setTimeout(function(){var activeEls=des_slide.find('.owl-dot.active');des_slide.find('.owl-dot:not(.active)').find('span').remove();des_slide.find('.owl-dot:not(.active)').append('<span></span>');des_slide.find('.owl-dot').find('.pie-countdown').remove();des_slide.find('.owl-dot.active').find('span').remove();des_slide.find('.owl-dot.active').append(pie);pieCoundown();},1);}).owlCarousel({center:false,items:1,loop:true,nav:false,dots:true,autoplay:true,autoplayTimeout:5000,autoplayHoverPause:false});des_slide.on('changed.owl.carousel',function(e){setTimeout(function(){var activeEls=des_slide.find('.owl-dot.active');des_slide.find('.owl-dot:not(.active)').find('span').remove();des_slide.find('.owl-dot:not(.active)').append('<span></span>');des_slide.find('.owl-dot').find('.pie-countdown').remove();des_slide.find('.owl-dot.active').find('span').remove();des_slide.find('.owl-dot.active').append(pie);pieCoundown();},1);});}
function promo_slide_load_content(){var des_slide=jQuery('.vin-slide-loader-content .view-content');var pie='<div class="pie-countdown">';pie+='  <svg width="32" viewBox="0 0 220 220" xmlns="http://www.w3.org/2000/svg">';pie+='        <g transform="translate(110,110)">';pie+='          <circle r="100" class="e-c-base"></circle>';pie+='          <g transform="rotate(-90)">';pie+='            <circle r="100" class="e-c-progress"></circle>';pie+='            <g id="e-pointer" class="d-nond">';pie+='              <circle cx="100" cy="0" r="8" class="e-c-pointer"></circle>';pie+='            </g>';pie+='          </g>';pie+='       </g>';pie+='  </svg>';pie+='<label class="dot"></span>';pie+='</div>';des_slide.on('initialized.owl.carousel',function(e){setTimeout(function(){var activeEls=des_slide.find('.owl-dot.active');des_slide.find('.owl-dot:not(.active)').find('span').remove();des_slide.find('.owl-dot:not(.active)').append('<span></span>');des_slide.find('.owl-dot').find('.pie-countdown').remove();des_slide.find('.owl-dot.active').find('span').remove();des_slide.find('.owl-dot.active').append(pie);pieCoundown();},1);}).owlCarousel({center:false,items:1,loop:true,nav:false,dots:true,autoplay:true,autoplayTimeout:5000,autoplayHoverPause:false});des_slide.on('changed.owl.carousel',function(e){setTimeout(function(){var activeEls=des_slide.find('.owl-dot.active');des_slide.find('.owl-dot:not(.active)').find('span').remove();des_slide.find('.owl-dot:not(.active)').append('<span></span>');des_slide.find('.owl-dot').find('.pie-countdown').remove();des_slide.find('.owl-dot.active').find('span').remove();des_slide.find('.owl-dot.active').append(pie);pieCoundown();},1);});}
function pieCoundown(){let progressBar=document.querySelector('.e-c-progress');let pointer=document.getElementById('e-pointer');let length=Math.PI*2*100;progressBar.style.strokeDasharray=length;var update=function(value,timePercent){var offset=-length-length*value/(timePercent);progressBar.style.strokeDashoffset=offset;pointer.style.transform=`rotate(${360*value/(timePercent)}deg)`;};var total=5;var count=total;var des_slide=jQuery('.des_slide_block .owl-carousel');update(total,total);var interval=setInterval(function(){--count;update(count,total);if(count===0){clearInterval(interval);jQuery('.des_slide_block .owl-next').trigger('click');}},1000);}
jQuery(document).ready(function(){var slide_home=new Swiper('.banner-home .swiper-container',{lazy:{loadPrevNext:true,},loop:true,effect:'fade',slidesPerView:1,speed:500,spaceBetween:0,autoplay:{delay:5000,disableOnInteraction:false},navigation:{nextEl:'.swiper-button-next',prevEl:'.swiper-button-prev',},});if(sessionStorage.getItem("popup")==undefined||sessionStorage.getItem("popup")==null){var $=jQuery.noConflict();setTimeout(()=>{var n_elements=jQuery(".popup-front").length;var random=Math.floor(Math.random()*n_elements);jQuery(".popup-front").eq(random).addClass('show');jQuery('.bg-popup.close-popup').addClass('show');$(".play-icon").on('click',function(e){var popupContainer=$(this).closest('.popup-front');var width=popupContainer.find('.popup-poster').outerWidth();var height=popupContainer.find('.popup-poster').outerHeight();$('.popup-iframe').find('iframe').attr({'width':width,'height':height,})
popupContainer.find('.popup-poster').fadeOut(300,function(){$('.popup-iframe').fadeIn(300);var videoURL=$('.popup-iframe').find('iframe').prop('src');videoURL+="&mute=0";$('.popup-iframe').find('iframe').prop('src',videoURL);e.preventDefault();});});},1000);}else{jQuery('.popup-front').addClass('popup-hide');}
jQuery('.close-popup').click(function(e){sessionStorage.setItem("popup","open");jQuery('.popup-front').removeClass('show');jQuery('.bg-popup.close-popup').removeClass('show');setTimeout(function(){jQuery('.popup-front').addClass('popup-hide');jQuery('.popup-front').find('.popup-iframe').remove();},150)});jQuery('#map_showroom #search .title i').click(function(e){jQuery(this).parents('#accordion').addClass('hide-search');jQuery('#map_showroom #button-open-search').addClass('hide-btn');});jQuery('#map_showroom #button-open-search').click(function(e){jQuery('#map_showroom #search #accordion').removeClass('hide-search');jQuery(this).removeClass('hide-btn');});});jQuery('.form-regis-promo .subscribe-email-promo').click(function(e){var email_=jQuery('.form-regis-promo input[name="email"]').val();if(jQuery('.form-regis-promo input[name="fullname"]').val()==''){jQuery('.form-regis-promo input[name="fullname"]').siblings('.error-ms').text('Trường này bắt buộc!');return false;}else{jQuery('.form-regis-promo input[name="fullname"]').siblings('.error-ms').text('');}
if(jQuery('.form-regis-promo input[name="email"]').val()==''){jQuery('.form-regis-promo input[name="email"]').siblings('.error-ms').text('Trường này bắt buộc!');return false;}else{jQuery('.form-regis-promo input[name="email"]').siblings('.error-ms').text('');}
if(jQuery('.form-regis-promo input[name="phone"]').val()==''){jQuery('.form-regis-promo input[name="phone"]').siblings('.error-ms').text('Trường này bắt buộc!');return false;}else{jQuery('.form-regis-promo input[name="phone"]').siblings('.error-ms').text('');}
if(!isEmail(email_)){jQuery('.form-regis-promo input[name="email"]').siblings('.error-ms').text('Email chưa đúng định dạng!');return false;}else{jQuery('.form-regis-promo input[name="email"]').siblings('.error-ms').text('');}
grecaptcha.execute('6Lcfbd4ZAAAAAN6cGzaskOw2AYFQPqxVlxHViEqv',{action:'submit'}).then(function(token){var data={captcha:token,fullname:jQuery('.form-regis-promo input[name="fullname"]').val(),email:jQuery('.form-regis-promo input[name="email"]').val(),phone:jQuery('.form-regis-promo input[name="phone"]').val(),opt_in:jQuery('.form-regis-promo input.sf_opt_in').is(':checked'),};jQuery.ajax({method:"POST",url:drupalSettings.path.baseUrl+"api/yeu-cau-tu-van",data:data,dataType:"json"}).done(function(msg){alert('Gửi yêu cầu thành công!');location.reload();});});});jQuery('.mmenu-toggle-btn').click(function(e){jQuery('body').toggleClass('mmenu-open-mb');jQuery(this).toggleClass('active');});jQuery('.mobile-side-menu .dropdown > span, .mobile-side-menu .dropdown > a').unbind().click(function(e){e.preventDefault();jQuery(this).siblings('ul').slideToggle();jQuery(this).toggleClass('active');jQuery(this).siblings('.mmenu-toggle').toggleClass('open');});function isEmail(email){var regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return regex.test(email);}
function gtag_custom_link(e){var title=document.getElementsByTagName("title")[0].innerHTML;var href=jQuery(e).attr('href');var name=jQuery(e).text();if(name==''||name==undefined){name=jQuery(e).attr('class');}
gtag('event','click '+name,{'event_category':title,'event_label':title+' : Click '+name+' : '+href});}
function gtag_custom_mouseover(e){var title=document.getElementsByTagName("title")[0].innerHTML;var href=jQuery(e).attr('href');var name=jQuery(e).text();if(name==''||name==undefined){name=jQuery(e).attr('class');}
gtag('event','MouseOver '+name,{'event_category':title,'event_label':title+' : MouseOver '+name+' : '+href});}
function gtag_custom_submit(e){var title=document.getElementsByTagName("title")[0].innerHTML;var form_id=jQuery(e).parents('form').attr('id');var name=jQuery(e).val();if(name==undefined||name==''){name=jQuery(e).text();}
gtag('event','click '+name,{'event_category':title,'event_label':title+' : Click '+name+' : '+form_id});}
jQuery('#menus_global .menu .menu .menu-item--expanded > span').click(function(e){jQuery(this).siblings('.menu').slideToggle();jQuery(this).toggleClass('active');});jQuery('.close_menus_global, #menus_global .bg_modal').click(function(e){e.preventDefault();jQuery(this).parents('#menus_global').removeClass('show');});jQuery('#nav-icon-region').on('touchend click',function(e){jQuery(this).toggleClass('open');jQuery('div#menu-side-right').toggleClass('open');jQuery('div#sidebar-right').toggleClass('show');});jQuery('.box-car-head .user').click(function(e){jQuery(this).toggleClass('active');});jQuery('.user_menu_dropdown').click(function(e){jQuery('.user_menu_item').slideToggle();jQuery(this).toggleClass('open');});jQuery('.vf-open-loading').click(function(e){jQuery('.loading_modal').css('display','block');});(function($,Drupal){$('.mobile-side-menu .vf_dropdown').each(function(){var view_more=$(this).attr('href');var view_more_title='Xem tất cả';if($('html[lang="en"]').length){var view_more_title='View all';}
$(this).siblings('.mmenu-toggle').append('<a class="view-more" href="'+view_more+'">'+view_more_title+'</a>');});$('.mmenu-toggle .view-more').unbind().click(function(e){$('.loading_modal').css('display','block');window.location.href=$(this).attr('href');});})(jQuery,Drupal);